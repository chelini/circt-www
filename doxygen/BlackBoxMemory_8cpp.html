<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CIRCT: lib/Dialect/FIRRTL/Transforms/BlackBoxMemory.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CIRCT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_5ecba3b4683443cdd5d71918532517b3.html">FIRRTL</a></li><li class="navelem"><a class="el" href="dir_1f43711e4003e7a9e3d354ad53319866.html">Transforms</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BlackBoxMemory.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="FIRRTL_2Transforms_2PassDetails_8h_source.html">PassDetails.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRRTLOps_8h_source.html">circt/Dialect/FIRRTL/FIRRTLOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FIRRTLTypes_8h_source.html">circt/Dialect/FIRRTL/FIRRTLTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dialect_2FIRRTL_2Passes_8h_source.html">circt/Dialect/FIRRTL/Passes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVM_8h_source.html">circt/Support/LLVM.h</a>&quot;</code><br />
<code>#include &quot;mlir/IR/OperationSupport.h&quot;</code><br />
<code>#include &quot;llvm/ADT/DenseMap.h&quot;</code><br />
<code>#include &quot;llvm/ADT/Hashing.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for BlackBoxMemory.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="BlackBoxMemory_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2FIRRTL_2Transforms_2BlackBoxMemory_8cpp" alt=""/></div>
<map name="lib_2Dialect_2FIRRTL_2Transforms_2BlackBoxMemory_8cpp" id="lib_2Dialect_2FIRRTL_2Transforms_2BlackBoxMemory_8cpp">
<area shape="rect" title=" " alt="" coords="1319,5,1562,47"/>
<area shape="rect" href="FIRRTL_2Transforms_2PassDetails_8h.html" title=" " alt="" coords="1310,102,1419,129"/>
<area shape="rect" href="FIRRTLOps_8h.html" title=" " alt="" coords="1128,184,1276,225"/>
<area shape="rect" href="LLVM_8h.html" title=" " alt="" coords="1096,631,1251,657"/>
<area shape="rect" href="FIRRTLTypes_8h.html" title=" " alt="" coords="136,363,284,404"/>
<area shape="rect" href="Dialect_2FIRRTL_2Passes_8h.html" title=" " alt="" coords="1448,95,1596,136"/>
<area shape="rect" title=" " alt="" coords="1620,102,1815,129"/>
<area shape="rect" title=" " alt="" coords="1840,102,2006,129"/>
<area shape="rect" title=" " alt="" coords="2030,102,2181,129"/>
<area shape="rect" title=" " alt="" coords="1300,191,1426,218"/>
<area shape="rect" title=" " alt="" coords="1450,184,1598,225"/>
<area shape="rect" href="FIRRTLDialect_8h.html" title=" " alt="" coords="401,452,549,493"/>
<area shape="rect" href="FIRRTLOpInterfaces_8h.html" title=" " alt="" coords="359,273,524,315"/>
<area shape="rect" href="HWOpInterfaces_8h.html" title=" " alt="" coords="1033,370,1282,397"/>
<area shape="rect" title=" " alt="" coords="1250,459,1414,486"/>
<area shape="rect" href="HWAttributes_8h.html" title=" " alt="" coords="2503,281,2732,307"/>
<area shape="rect" href="HWTypes_8h.html" title=" " alt="" coords="1748,370,1951,397"/>
<area shape="rect" href="FieldRef_8h.html" title=" " alt="" coords="2140,281,2312,307"/>
<area shape="rect" title=" " alt="" coords="600,281,734,307"/>
<area shape="rect" title=" " alt="" coords="758,281,960,307"/>
<area shape="rect" title=" " alt="" coords="984,281,1187,307"/>
<area shape="rect" title=" " alt="" coords="1211,281,1424,307"/>
<area shape="rect" title=" " alt="" coords="1448,273,1630,315"/>
<area shape="rect" title=" " alt="" coords="1654,273,1840,315"/>
<area shape="rect" title=" " alt="" coords="1865,273,2013,315"/>
<area shape="rect" href="HWDialect_8h.html" title=" " alt="" coords="1774,549,1986,575"/>
<area shape="rect" title=" " alt="" coords="2100,631,2287,657"/>
<area shape="rect" title=" " alt="" coords="1674,631,1801,657"/>
<area shape="rect" title=" " alt="" coords="578,541,729,583"/>
<area shape="rect" title=" " alt="" coords="404,541,554,583"/>
<area shape="rect" title=" " alt="" coords="1826,631,2060,657"/>
<area shape="rect" title=" " alt="" coords="996,705,1148,732"/>
<area shape="rect" title=" " alt="" coords="1172,705,1378,732"/>
<area shape="rect" href="FIRRTLAnnotations_8h.html" title=" " alt="" coords="2010,541,2172,583"/>
<area shape="rect" href="FIRRTLAttributes_8h.html" title=" " alt="" coords="360,363,508,404"/>
<area shape="rect" title=" " alt="" coords="767,459,930,486"/>
<area shape="rect" title=" " alt="" coords="1439,459,1599,486"/>
<area shape="rect" title=" " alt="" coords="532,370,746,397"/>
<area shape="rect" title=" " alt="" coords="770,363,958,404"/>
<area shape="rect" title=" " alt="" coords="573,459,692,486"/>
<area shape="rect" title=" " alt="" coords="130,452,278,493"/>
<area shape="rect" title=" " alt="" coords="954,459,1226,486"/>
<area shape="rect" title=" " alt="" coords="2434,370,2580,397"/>
<area shape="rect" title=" " alt="" coords="2604,370,2856,397"/>
<area shape="rect" title=" " alt="" coords="1674,459,1900,486"/>
<area shape="rect" title=" " alt="" coords="2292,370,2410,397"/>
<area shape="rect" title=" " alt="" coords="2076,370,2268,397"/>
<area shape="rect" title=" " alt="" coords="1902,191,2080,218"/>
<area shape="rect" title=" " alt="" coords="1622,191,1776,218"/>
<area shape="rect" title=" " alt="" coords="1800,191,1878,218"/>
</map>
</div>
</div>
<p><a href="BlackBoxMemory_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab56bffa7aa2db8cce8670c3910630d7f"><td class="memItemLeft" align="right" valign="top">llvm::hash_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#ab56bffa7aa2db8cce8670c3910630d7f">computeHash</a> (MemOp op)</td></tr>
<tr class="memdesc:ab56bffa7aa2db8cce8670c3910630d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a hash code for a MemOp.  <a href="BlackBoxMemory_8cpp.html#ab56bffa7aa2db8cce8670c3910630d7f">More...</a><br /></td></tr>
<tr class="separator:ab56bffa7aa2db8cce8670c3910630d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86d63534f3c886d5a8a9bd4b096ddc9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#ad86d63534f3c886d5a8a9bd4b096ddc9">isEquivalentTo</a> (MemOp lhs, MemOp rhs)</td></tr>
<tr class="memdesc:ad86d63534f3c886d5a8a9bd4b096ddc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare memory operations for equivalence.  <a href="BlackBoxMemory_8cpp.html#ad86d63534f3c886d5a8a9bd4b096ddc9">More...</a><br /></td></tr>
<tr class="separator:ad86d63534f3c886d5a8a9bd4b096ddc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55418493c8a48e85104c3331b01e0932"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#a55418493c8a48e85104c3331b01e0932">getBlackBoxPortsForMemOp</a> (MemOp op, ArrayRef&lt; MemOp::NamedPort &gt; memPorts, SmallVectorImpl&lt; PortInfo &gt; &amp;extPorts)</td></tr>
<tr class="memdesc:a55418493c8a48e85104c3331b01e0932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the pohwist for an external module representing a blackbox memory.  <a href="BlackBoxMemory_8cpp.html#a55418493c8a48e85104c3331b01e0932">More...</a><br /></td></tr>
<tr class="separator:a55418493c8a48e85104c3331b01e0932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd4a1137e4f4eca278a446767d3af36"><td class="memItemLeft" align="right" valign="top">static FExtModuleOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#a8fd4a1137e4f4eca278a446767d3af36">createBlackboxModuleForMem</a> (MemOp op, ArrayRef&lt; PortInfo &gt; extPorts)</td></tr>
<tr class="memdesc:a8fd4a1137e4f4eca278a446767d3af36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an external module black box representing the memory operation.  <a href="BlackBoxMemory_8cpp.html#a8fd4a1137e4f4eca278a446767d3af36">More...</a><br /></td></tr>
<tr class="separator:a8fd4a1137e4f4eca278a446767d3af36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf76d4daad5c5bb89ac2bbe04efd1493"><td class="memItemLeft" align="right" valign="top">static FModuleOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#adf76d4daad5c5bb89ac2bbe04efd1493">createWrapperModule</a> (MemOp op, ArrayRef&lt; MemOp::NamedPort &gt; memPorts, FExtModuleOp extModuleOp, ArrayRef&lt; PortInfo &gt; extPorts, SmallVectorImpl&lt; PortInfo &gt; &amp;modPorts)</td></tr>
<tr class="memdesc:adf76d4daad5c5bb89ac2bbe04efd1493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a regular module to wrap the external module.  <a href="BlackBoxMemory_8cpp.html#adf76d4daad5c5bb89ac2bbe04efd1493">More...</a><br /></td></tr>
<tr class="separator:adf76d4daad5c5bb89ac2bbe04efd1493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc0292430b22428c6b0dd810e60906d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#acfc0292430b22428c6b0dd810e60906d">createWiresForMemoryPorts</a> (OpBuilder builder, Location loc, MemOp op, InstanceOp instanceOp, ArrayRef&lt; PortInfo &gt; extPorts, SmallVectorImpl&lt; Value &gt; &amp;results)</td></tr>
<tr class="memdesc:acfc0292430b22428c6b0dd810e60906d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a bundle wire for each memory port.  <a href="BlackBoxMemory_8cpp.html#acfc0292430b22428c6b0dd810e60906d">More...</a><br /></td></tr>
<tr class="separator:acfc0292430b22428c6b0dd810e60906d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496572fa7fe786f28fff9c76aac8a762"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#a496572fa7fe786f28fff9c76aac8a762">replaceMemWithWrapperModule</a> (DenseMap&lt; MemOp, FModuleOp, MemOpInfo &gt; &amp;knownMems, MemOp memOp)</td></tr>
<tr class="separator:a496572fa7fe786f28fff9c76aac8a762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda3b8186ffbd827ee1a229299c59e69"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#adda3b8186ffbd827ee1a229299c59e69">replaceMemsWithWrapperModules</a> (CircuitOp circuit, function_ref&lt; bool(MemOp)&gt; shouldReplace)</td></tr>
<tr class="memdesc:adda3b8186ffbd827ee1a229299c59e69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces all memories which match the predicate function with external modules and simple wrapper module which instantiates it.  <a href="BlackBoxMemory_8cpp.html#adda3b8186ffbd827ee1a229299c59e69">More...</a><br /></td></tr>
<tr class="separator:adda3b8186ffbd827ee1a229299c59e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c764c84dde6025b772fa93f6b2110b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#a90c764c84dde6025b772fa93f6b2110b">replaceMemWithExtModule</a> (DenseMap&lt; MemOp, FExtModuleOp, MemOpInfo &gt; &amp;knownMems, MemOp memOp)</td></tr>
<tr class="separator:a90c764c84dde6025b772fa93f6b2110b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb8dab45cfd522a33aadff2bbeb49e9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="BlackBoxMemory_8cpp.html#a0eb8dab45cfd522a33aadff2bbeb49e9">replaceMemsWithExtModules</a> (CircuitOp circuit, function_ref&lt; bool(MemOp)&gt; shouldReplace)</td></tr>
<tr class="memdesc:a0eb8dab45cfd522a33aadff2bbeb49e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces all memories which match the predicate function with external modules.  <a href="BlackBoxMemory_8cpp.html#a0eb8dab45cfd522a33aadff2bbeb49e9">More...</a><br /></td></tr>
<tr class="separator:a0eb8dab45cfd522a33aadff2bbeb49e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab56bffa7aa2db8cce8670c3910630d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab56bffa7aa2db8cce8670c3910630d7f">&#9670;&nbsp;</a></span>computeHash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::hash_code computeHash </td>
          <td>(</td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a hash code for a MemOp. </p>
<p>This specialized hash ignores the naming of the memory and ports. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00027">27</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

</div>
</div>
<a id="a8fd4a1137e4f4eca278a446767d3af36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd4a1137e4f4eca278a446767d3af36">&#9670;&nbsp;</a></span>createBlackboxModuleForMem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FExtModuleOp createBlackboxModuleForMem </td>
          <td>(</td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayRef&lt; PortInfo &gt;&#160;</td>
          <td class="paramname"><em>extPorts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an external module black box representing the memory operation. </p>
<p>Returns the port list of the external module. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00122">122</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00333">replaceMemWithExtModule()</a>, and <a class="el" href="BlackBoxMemory_8cpp_source.html#l00261">replaceMemWithWrapperModule()</a>.</p>

</div>
</div>
<a id="acfc0292430b22428c6b0dd810e60906d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc0292430b22428c6b0dd810e60906d">&#9670;&nbsp;</a></span>createWiresForMemoryPorts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void createWiresForMemoryPorts </td>
          <td>(</td>
          <td class="paramtype">OpBuilder&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Location&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InstanceOp&#160;</td>
          <td class="paramname"><em>instanceOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayRef&lt; PortInfo &gt;&#160;</td>
          <td class="paramname"><em>extPorts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SmallVectorImpl&lt; Value &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a bundle wire for each memory port. </p>
<p>This takes all the individual fields returned from instantiating the external module, and wraps them in to bundles to match the memory return type. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00231">231</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00333">replaceMemWithExtModule()</a>.</p>

</div>
</div>
<a id="adf76d4daad5c5bb89ac2bbe04efd1493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf76d4daad5c5bb89ac2bbe04efd1493">&#9670;&nbsp;</a></span>createWrapperModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FModuleOp createWrapperModule </td>
          <td>(</td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayRef&lt; MemOp::NamedPort &gt;&#160;</td>
          <td class="paramname"><em>memPorts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FExtModuleOp&#160;</td>
          <td class="paramname"><em>extModuleOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayRef&lt; PortInfo &gt;&#160;</td>
          <td class="paramname"><em>extPorts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SmallVectorImpl&lt; PortInfo &gt; &amp;&#160;</td>
          <td class="paramname"><em>modPorts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a regular module to wrap the external module. </p>
<p>The wrapper module instantiates the external module, and connects all the inputs and outputs together. This module will match the bundle return type of the memory op, and connects to the flattened parameters of the external module. This is done for compatibility with the Scala FIRRTL compiler and it is unclear if this will be needed in the long run. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00168">168</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacecirct_1_1firrtl.html#a10bd365aff28fd9856f68f241520e738aefeb369cccbd560588a756610865664c">circt::firrtl::In</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00261">replaceMemWithWrapperModule()</a>.</p>

</div>
</div>
<a id="a55418493c8a48e85104c3331b01e0932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55418493c8a48e85104c3331b01e0932">&#9670;&nbsp;</a></span>getBlackBoxPortsForMemOp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void getBlackBoxPortsForMemOp </td>
          <td>(</td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayRef&lt; MemOp::NamedPort &gt;&#160;</td>
          <td class="paramname"><em>memPorts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SmallVectorImpl&lt; PortInfo &gt; &amp;&#160;</td>
          <td class="paramname"><em>extPorts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the pohwist for an external module representing a blackbox memory. </p>
<p>This external module must be compatible with the modules which are generated for <code>vlsi_mem_gen</code>, which can be found in the rocketchip project. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00083">83</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespacecirct_1_1firrtl.html#a10bd365aff28fd9856f68f241520e738aefeb369cccbd560588a756610865664c">circt::firrtl::In</a>, and <a class="el" href="namespacecirct_1_1firrtl.html#a10bd365aff28fd9856f68f241520e738a7c147cda9e49590f6abe83d118b7353b">circt::firrtl::Out</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00333">replaceMemWithExtModule()</a>, and <a class="el" href="BlackBoxMemory_8cpp_source.html#l00261">replaceMemWithWrapperModule()</a>.</p>

</div>
</div>
<a id="ad86d63534f3c886d5a8a9bd4b096ddc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86d63534f3c886d5a8a9bd4b096ddc9">&#9670;&nbsp;</a></span>isEquivalentTo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isEquivalentTo </td>
          <td>(</td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare memory operations for equivalence. </p>
<p>Only compares the types of the memory and not the name or the memory, or the ports. </p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00040">40</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

</div>
</div>
<a id="a0eb8dab45cfd522a33aadff2bbeb49e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb8dab45cfd522a33aadff2bbeb49e9">&#9670;&nbsp;</a></span>replaceMemsWithExtModules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool replaceMemsWithExtModules </td>
          <td>(</td>
          <td class="paramtype">CircuitOp&#160;</td>
          <td class="paramname"><em>circuit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function_ref&lt; bool(MemOp)&gt;&#160;</td>
          <td class="paramname"><em>shouldReplace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replaces all memories which match the predicate function with external modules. </p>
<p>Returns true if any modules were replaced. </p>
<p>A set of replaced memory operations. When two memory operations share the same types, they can share the same modules.</p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00382">382</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="BlackBoxMemory_8cpp_source.html#l00333">replaceMemWithExtModule()</a>.</p>

</div>
</div>
<a id="adda3b8186ffbd827ee1a229299c59e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda3b8186ffbd827ee1a229299c59e69">&#9670;&nbsp;</a></span>replaceMemsWithWrapperModules()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool replaceMemsWithWrapperModules </td>
          <td>(</td>
          <td class="paramtype">CircuitOp&#160;</td>
          <td class="paramname"><em>circuit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function_ref&lt; bool(MemOp)&gt;&#160;</td>
          <td class="paramname"><em>shouldReplace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replaces all memories which match the predicate function with external modules and simple wrapper module which instantiates it. </p>
<p>Returns true if any memories were replaced. </p>
<p>A set of replaced memory operations. When two memory operations share the same types, they can share the same modules.</p>

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00311">311</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="BlackBoxMemory_8cpp_source.html#l00261">replaceMemWithWrapperModule()</a>.</p>

</div>
</div>
<a id="a90c764c84dde6025b772fa93f6b2110b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c764c84dde6025b772fa93f6b2110b">&#9670;&nbsp;</a></span>replaceMemWithExtModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceMemWithExtModule </td>
          <td>(</td>
          <td class="paramtype">DenseMap&lt; MemOp, FExtModuleOp, MemOpInfo &gt; &amp;&#160;</td>
          <td class="paramname"><em>knownMems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>memOp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00333">333</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="BlackBoxMemory_8cpp_source.html#l00122">createBlackboxModuleForMem()</a>, <a class="el" href="BlackBoxMemory_8cpp_source.html#l00231">createWiresForMemoryPorts()</a>, and <a class="el" href="BlackBoxMemory_8cpp_source.html#l00083">getBlackBoxPortsForMemOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00382">replaceMemsWithExtModules()</a>.</p>

</div>
</div>
<a id="a496572fa7fe786f28fff9c76aac8a762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496572fa7fe786f28fff9c76aac8a762">&#9670;&nbsp;</a></span>replaceMemWithWrapperModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceMemWithWrapperModule </td>
          <td>(</td>
          <td class="paramtype">DenseMap&lt; MemOp, FModuleOp, MemOpInfo &gt; &amp;&#160;</td>
          <td class="paramname"><em>knownMems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemOp&#160;</td>
          <td class="paramname"><em>memOp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BlackBoxMemory_8cpp_source.html#l00261">261</a> of file <a class="el" href="BlackBoxMemory_8cpp_source.html">BlackBoxMemory.cpp</a>.</p>

<p class="reference">References <a class="el" href="BlackBoxMemory_8cpp_source.html#l00122">createBlackboxModuleForMem()</a>, <a class="el" href="BlackBoxMemory_8cpp_source.html#l00168">createWrapperModule()</a>, and <a class="el" href="BlackBoxMemory_8cpp_source.html#l00083">getBlackBoxPortsForMemOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="BlackBoxMemory_8cpp_source.html#l00311">replaceMemsWithWrapperModules()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 15 2022 00:35:02 for CIRCT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
